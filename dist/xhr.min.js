/*!
 * xhr.js - General purpose HTTP / HTTPS client. Supports transparent gzip / deflate decoding.
 * git+https://github.com/hai2007/xhr.js.git
 *
 * author 你好2007 < https://hai2007.gitee.io/sweethome >
 *
 * version 0.1.2
 *
 * Copyright (c) 2021-present hai2007 走一步，再走一步。
 * Released under the MIT license
 *
 * Date:Fri May 21 2021 10:10:06 GMT+0800 (GMT+08:00)
 */
(function(){"use strict";function n(t){var e=typeof t;return t!=null&&(e==="object"||e==="function")}var e=Object.prototype.toString;function r(t){if(t==null){return t===undefined?"[object Undefined]":"[object Null]"}return e.call(t)}function t(t){var e=typeof t;return e==="string"||e==="object"&&t!=null&&!Array.isArray(t)&&r(t)==="[object String]"}function o(t){if(!n(t)){return false}var e=r(t);return e==="[object Function]"||e==="[object AsyncFunction]"||e==="[object GeneratorFunction]"||e==="[object Proxy]"}function u(t){if(t===null||typeof t!=="object"||r(t)!="[object Object]"){return false}if(Object.getPrototypeOf(t)===null){return true}var e=t;while(Object.getPrototypeOf(e)!==null){e=Object.getPrototypeOf(e)}return Object.getPrototypeOf(t)===e}var i=function(t){return t===undefined};var f=t;var a=o;var c=u;function s(t){if(f(t)){return t}else if(c(t)){return JSON.stringify(t)}else if(i(t)){return""}else{return t}}var l=function(t,e,n){var r;if(a(t.xhr)){r=t.xhr()}else{r=new XMLHttpRequest}r.onload=function(){if(r.readyState==4){e({status:r.status,data:r.responseText})}};r.ontimeout=function(){n({status:r.status,data:"请求超时了"})};r.onerror=function(){n({status:r.status,data:r.responseText})};r.open(t.method,t.url,true);for(var o in t.header){r.setRequestHeader(o,t.header[o])}r.timeout="timeout"in t?t.timeout:6e3;r.send(s(t.data))};if(typeof module==="object"&&typeof module.exports==="object"){module.exports=l}else{window.xhr=l}})();